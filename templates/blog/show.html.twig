{% extends 'base.html.twig' %}

{% block title globals.title ~ ' - ' ~ blog.title %}
{% block description '' ~ blog.smallContent %}
{% block url '' ~ path('blog.show', {slug: blog.slug, id: blog.id}) %}
{% block url2 '' ~ path('blog.show', {slug: blog.slug, id: blog.id}) %}
{% block title2 globals.title ~ ' - ' ~ blog.title %}
{% block title3 globals.title ~ ' - ' ~ blog.title %}
{% block description2 '' ~ blog.smallContent %}
{% block description3 '' ~ blog.smallContent %}

{% block stylesheets %}

	<style>
		.jumbotron {
			margin: 0 auto !important;
		}
	</style>

{% endblock %}

{% block body %}

	<style>
		.dark-grey-text {
			color: #4f4f4f !important;
		}
		.dark-grey-text:hover,
		.dark-grey-text:focus {
			color: #4f4f4f !important;
		}
		.card.card-cascade.wider {
			background-color: transparent;
			-webkit-box-shadow: none;
			box-shadow: none;
		}
		.card {
			font-weight: 400;
			border: 0;
			-webkit-box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
			box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
		}
		.card.card-cascade.wider .view.view-cascade {
			z-index: 2;
		}
		.card.card-cascade .view.view-cascade {
			border-radius: 0.25rem;
			-webkit-box-shadow: 0 5px 11px 0 rgb(0 0 0 / 18%), 0 4px 15px 0 rgb(0 0 0 / 15%);
			box-shadow: 0 5px 11px 0 rgb(0 0 0 / 18%), 0 4px 15px 0 rgb(0 0 0 / 15%);
		}
		.view {
			position: relative;
			overflow: hidden;
			cursor: default;
		}

		.view img,
		.view video {
			position: relative;
			display: block;
		}
		.card-img,
		.card-img-top {
			border-top-left-radius: calc(0.25rem - 1px);
			border-top-right-radius: calc(0.25rem - 1px);
		}
		.card-img,
		.card-img-bottom,
		.card-img-top {
			-ms-flex-negative: 0;
			flex-shrink: 0;
			width: 100%;
		}

		a {
			color: #0275d8;
			text-decoration: none;
			cursor: pointer;
			-webkit-transition: all 0.2s ease-in-out;
			transition: all 0.2s ease-in-out;
		}

		.overlay .mask {
			opacity: 0;
			-webkit-transition: all 0.4s ease-in-out;
			transition: all 0.4s ease-in-out;
		}
		.view .mask {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			width: 100%;
			height: 100%;
			overflow: hidden;
			background-attachment: fixed;
		}
		.rgba-white-slight,
		.rgba-white-slight:after {
			background-color: rgba(255, 255, 255, 0.1);
		}
		.waves-effect {
			position: relative;
			overflow: hidden;
			cursor: pointer;
			-webkit-user-select: none;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none;
			-webkit-tap-highlight-color: transparent;
		}
		.rgba-white-slight,
		.rgba-white-slight:after {
			background-color: rgba(255, 255, 255, 0.1);
		}

		.card.card-cascade.wider.reverse .card-body.card-body-cascade {
			z-index: 3;
			margin-top: -1rem;
			border-radius: 0.25rem;
			-webkit-box-shadow: 0 5px 11px 0 rgb(0 0 0 / 18%), 0 4px 15px 0 rgb(0 0 0 / 15%);
			box-shadow: 0 5px 11px 0 rgb(0 0 0 / 18%), 0 4px 15px 0 rgb(0 0 0 / 15%);
		}
		.card.card-cascade.wider .card-body.card-body-cascade {
			z-index: 1;
			margin-right: 4%;
			margin-left: 4%;
			background: #fff;
			border-radius: 0 0 0.25rem 0.25rem;
			-webkit-box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
			box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
		}

		.font-weight-bold {
			font-weight: 700 !important;
		}

		.counter {
			position: relative;
			top: -23px;
			left: auto;
			z-index: 2;
			padding: 1px 7px;
			margin-left: -23px;
			font-size: 11px;
			color: #fff;
			background-color: #fe1212;
			border-radius: 10em;
			-webkit-box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
			box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
		}

		.btn-fb:focus,
		.btn-fb:active,
		.btn-fb.active {
			background-color: #1e2e4f;
		}
		.btn-fb:hover {
			color: #fff;
			background-color: #4264aa;
		}
		.btn-fb {
			color: #fff;
			background-color: #3b5998 !important;
		}
		.btn-tw:focus,
		.btn-tw:active,
		.btn-tw.active {
			background-color: #147bc9;
		}
		.btn-tw:hover {
			color: #fff;
			background-color: #6cb7f0;
		}
		.btn-tw {
			color: #fff;
			background-color: #55acee !important;
		}

		.btn-linked:focus,
		.btn-linked:active,
		.btn-linked.active {
			background-color: #96271a;
		}
		.btn-linked:hover {
			color: #fff;
			background-color: #e15f4f;
		}
		.btn-linked {
			color: #fff;
			background-color: #dd4b39 !important;
		}

		.btn-default:focus,
		.btn-default:active,
		.btn-default.active {
			background-color: #186860;
		}
		.btn-default:hover {
			color: #fff;
			background-color: #30cfc0;
		}
		.btn-default {
			color: #fff;
			background-color: #2bbbad !important;
		}

        .font-small {
            font-size: .9rem;
        }

        .hoverable {
            -webkit-box-shadow: none;
            box-shadow: none;
            -webkit-transition: all 0.55s ease-in-out;
            transition: all 0.55s ease-in-out;
        }

        .hoverable:hover {
            -webkit-box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
            box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
            -webkit-transition: all 0.55s ease-in-out;
            transition: all 0.55s ease-in-out
        }

        .btn.btn-flat {
            font-weight: 500;
            color: inherit;
            background-color: transparent;
            -webkit-box-shadow: none;
            box-shadow: none;
        }

        .z-depth-1, .card.gradient-card:focus-within .card-image {
            -webkit-box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%) !important;
            box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%) !important;
        }
        .card-img-64 {
            width: 64px;
            height: 64px;
        }
        .z-depth-1, .chip:active {
            -webkit-box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%) !important;
            box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%) !important;
        }

        .btn.btn-sm {
            padding: .5rem 1.6rem;
            font-size: .64rem;
        }
	</style>

	<div class="jumbotron pt-3 pb-3">
		<div class="container">

			{% for message in app.flashes('success') %}
				<div class="alert alert-success text-center w-25 m-auto mb-3">
					<i class="fa fa-check text-success" aria-hidden="true"></i>
					{{ message }}
				</div>
			{% endfor %}

			<div
				class="container mt-3">

				<!--Section: Content-->
				<section
					class="mx-md-5 dark-grey-text">

					<!-- Grid row -->
					<div
						class="row">

						<!-- Grid column -->
						<div
							class="col-md-12">

							<!-- Card -->
							<div
								class="card card-cascade wider reverse">

								<!-- Card image -->
								<div class="view view-cascade overlay">
									{% if blog.pictures is empty %}
										<img src="{{ '/images/empty.jpg' }}" class="card-img-top" alt="{{ blog.title }}">
									{% else %}
										{% for picture in blog.pictures %}
											<img src="{{ vich_uploader_asset(picture, 'imageFile') }}" class="card-img-top" alt="{{ blog.title }}"/>
										{% endfor %}
									{% endif %}
									<a href="{{ path('blog.show', {id: blog.id}) }}">
										<div class="mask rgba-white-slight"></div>
									</a>
								</div>

								<!-- Card content -->
								<div
									class="card-body card-body-cascade text-center">

									<!-- Title -->
									<h3 class="font-weight-bold">
										<a>{{ blog.title }}</a>
									</h3>

                                    <!-- Category -->
                                    <a href="#!" class="deep-orange-text">
                                        <h6 class="font-weight-bold mt-3 mb-3">
                                            <i class="fas fa-caret-right pr-2"></i>
                                            {{ blog.catType }}</h6>
                                    </a>

									<!-- Data -->
									<p>
										<i class="fas fa-user mr-2"></i>Écrit par
										<a href="{{ path('user.public', { username: blog.author }) }}">
											<strong>{{ blog.author }}</strong>
										</a>,
										<i class="fas fa-pencil-alt ml-2 mr-2"></i>Le
										{{ blog.createdAt|format_datetime() }}</p>
									<p>
										{% if blog.updatedAt != null %}
											<i class="fas fa-pencil-alt mr-2"></i>Modifié le
											{{ blog.updatedAt|format_datetime() }}
										{% endif %}
									</p>
									<!-- Social shares -->
									<div
										class="social-counters">
										<!-- Facebook -->
										<a class="btn btn-fb" target="_blank" title="Facebook" href="https://www.facebook.com/sharer.php?u=https://agence-web.website{{ path('blog.show', {id: blog.id}) }}" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;">
											<i class="fab fa-facebook-f pr-2"></i>
											<span class="clearfix d-none d-md-inline-block">Facebook</span>
										</a>
										<!-- Twitter -->
										<a class="btn btn-tw" title="Twitter" href="https://twitter.com/share?url=https://agence-web.website{{ path('blog.show', {id: blog.id}) }}" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;">
											<i class="fab fa-twitter pr-2"></i>
											<span class="clearfix d-none d-md-inline-block">Twitter</span>
										</a>
										<!-- Google+ -->
										<a class="btn btn-linked" title="Linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://agence-web.website{{ path('blog.show', {id: blog.id}) }}" rel="nofollow" onclick="javascript:window.open(this.href, '','menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;">
											<i class="fab fa-linkedin-in pr-2"></i>
											<span class="clearfix d-none d-md-inline-block">Linkedin</span>
										</a>
										<!-- Comments -->
										<a href="#commentaire" class="btn btn-default">
											<i class="far fa-comments pr-2"></i>
											<span class="clearfix d-none d-md-inline-block">Comments</span>
										</a>
										<span class="counter">{{ countComment }}</span>
									</div>
									<!-- Social shares -->

								</div>
								<!-- Card content -->

							</div>
							<!-- Card -->

							<!-- Excerpt -->
							<div class="mt-5">

								<p>{{ blog.largeContent|raw }}
								</p>

							</div>

						</div>
						<!-- Grid column -->

					</div>
					<!-- Grid row -->

					<hr class="mt-4">

				</section>
				<!--Section: Content-->

                {% include 'component/commentBlog.html.twig' %}

                <hr class="mb-4 mt-4" />

                {% include 'component/recentPost.html.twig' %}


			</div>

		</div>
	</div>

{% endblock %}
